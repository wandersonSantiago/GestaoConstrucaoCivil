<meta charset="UTF-8">
<br>
<br>
<div ng-controller="notaFiscalController as notaCtrl" >

<div class="box box-primary" >
		<!-- Default panel contents -->
		<div class="box-header" >
			<span class="lead">Cancelar nota </span>
		</div>
		<div class="panel-body">

			<br>
			<div class="container col-sm-12 " >
				<form role="form-vertical" ng-submit="notaCtrl.cancelar()" >
					
				<div class="row" >			
					<div class="col-sm-4" >
							<input class="form-control select2" ng-model="cotacaoCtrl.nota" placeholder="descrição do produto" id="descricao"							 
							 title="descrição do produto" style=" width: 100%;" >
						
					</div>
					
							<div class="col-sm-2">							
							<input class="btn btn-lg btn-primary btn-block btn-signin" 
								ng-click="notaCtrl.buscaPorId(cotacaoCtrl.nota)" value="adicionar"
								title="pressione para buscar a nota" type="button" ng-disabled="!cotacaoCtrl.nota" >
						</div>
					</div>
					<a href=""  data-toggle="modal" data-target="#myTipo"><i class="glyphicon glyphicon-plus"></i>novo</a>
				<br>
				<br>	
				
				</form>
			</div>

		</div>
		<div class="tablecontainer"></div>
	</div>
	<div class="modal fade bs-example-modal-lg" id="myTipo" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"">
  						<div class="modal-dialog modal-lg" role="document">
      						 <div class="modal-body">
        						<meta charset="UTF-8">
<br>
<br>
<div class="generic-container"  ng-controller="notaFiscalController as notaFiscalCtrl" >

<div class="box box-primary" >
		<!-- Default panel contents -->
		<div class="box-header" >
			<span class="lead">Cancelamento da nota fiscal</span>
		</div>
		<div class="panel-body">

			<br>
			<div class="container col-sm-12 " >
				<form role="form-vertical" ng-submit="notaFiscalCtrl.salva()" >
					
									
					<h3>Nota fiscal</h3>
					
					<br>
		
					<div class="row">
						<!-- <label class="col-sm-2 control-label" for="numeroNota">Numero nota Fiscal</label> -->
						<div class="col-sm-3">
							<input class="form-control"  id="numeroNota" type="text" title="informe o numero da nota fiscal" placeholder="Numero nota fiscal" 
							ng-model="notaFiscalCtrl.notaFiscal.numero" disabled>
						</div>
						<!-- <label class="col-sm-2 control-label" for="chave">Chave de Acesso</label> -->
						<div class="col-sm-3">
							<input class="form-control"  id="chave"  type="text" title="informe a chave de acesso da nota fiscal" placeholder="chave de acesso nota fiscal" 
							ng-model="notaFiscalCtrl.notaFiscal.chaveAcesso" disabled>
						</div>
						<!-- <label class="col-sm-2 control-label" for="dataNota">Data Nota Fiscal</label> -->
						<div class="col-sm-3">
							<input class="form-control"  id="dataNota" type="text" ng-model="notaFiscalCtrl.notaFiscal.dataNota" ui-date title="informe a data da nota fiscal"  placeholder="data nota fiscal" disabled>
						</div>
						<!-- <label class="col-sm-2 control-label" for="vencimento">Vencimento</label> -->
						<div class="col-sm-3">
							<input class="form-control"  id="vencimento"  type="text" ng-model="notaFiscalCtrl.notaFiscal.dataVencimento" ui-date title="informe a data de vencimento da nota fiscal" placeholder="vecimento nota fiscal" disabled>
						</div>
					</div>
										<br>					
					
					<br>
					
				
					<table class="table table-hover " ng-show="visialuzarTable">
					<thead>
						<tr>							
							<th>Codigo de barras</th>
							<th>Descrição</th>
							<th>Quantidade</th>
							<th>Preço unitario</th>
							<th>Preço total item</th>
						</tr>
					</thead>
					
					<tbody
						ng-repeat=" f in notaFiscalCtrl.listaItensNota | filter : busca">
						<tr>
						<td><input type="checkbox" ng-model="f.selecionado"	ng-click="notaFiscalCtrl.ativarExcluirLote(listaItensNota)"></td>
							<td><input class="form-control"  id="codigoBarras"  type="text" placeholder="Código de barras"
							ng-model="f.produto.codigoBarra" disabled></td>
							<td><input class="form-control"  id="descricaoProduto"  type="text" placeholder="descrição do Produto" 
							ng-model="f.produto.descricao" disabled></td>
							<td><input class="form-control"  id="quantidadeProduto"  type="text" placeholder="quantidade"
							ng-model="f.quantidade" ui-number-mask="0" disabled required></td>
							<td><input class="form-control"  id="valorProduto"  type="text"  placeholder="Preço" ui-money-mask disabled
							ng-model="f.valorUnitario" ng-blur="notaFiscalCtrl.SomaTotal(notaFiscalCtrl.listaItensNota)" required> </td>
							<td>{{f.valorTotal = somaUnitario(f.quantidade, f.valorUnitario) | currency}}</td>
							
						</tr>
	
					</tbody>
					<tfoot>
						<tr>
							<th></th>
							<th></th>
							<th></th>
							<th> Valor Total</th>
							<th>{{valorTotalNota | currency}}</th>
	
						</tr>
					</tfoot>
				</table>
					
					<br>
					<hr>
					<h3>Fornecedor</h3>
					<br>

					<div class="row">
							<div class="col-sm-4" ng-controller="fornecedorController as forCtrl" ng-init="forCtrl.lista()" >								
							<select class="form-control select2" ng-model="notaFiscalCtrl.notaFiscalProduto.fornecedor" id="fornecedor"
							ng-options="listaFornecedores.dadoEmpresa.nomeFantasia for listaFornecedores in forCtrl.listaFornecedor" 
							  style=" width: 100%;" disabled>
								<option value="">{{notaFiscalCtrl.notaFiscalProduto.fornecedor}}</option>
							</select>
						</div>
					</div>
						
					<br>
					<div class="row">
						
							<input class="form-control"  id="obs" type="text" placeholder="Observação"
							ng-model="notaFiscalCtrl.notaFiscal.observacao" disabled>
												
					</div>
					<br>
					<div class="row ">
						
						
							<input type="submit" id="submit" value="Cancelar nota"	class="btn btn-lg btn-warning btn-block btn-signin">
						
						
					</div>


				</form>
			</div>

		</div>
		<div class="tablecontainer"></div>
	</div>
</div>
        						
        						
        						
        						
      						</div>    
    					</div>
  					</div>
</div>
